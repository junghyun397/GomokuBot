syntax = "proto3";
package b3nzene;

import "google/protobuf/timestamp.proto";

message Request {
  int64 timestamp = 1;

  message State {
    bytes board = 1;

    int64 turns = 2;
  }

  State state = 2;
}

enum Method {
  PASS = 0;
  HARD = 1;
  HIT = 2;
}

message Response {
  int64 timestamp = 1;
  Method method = 2;

  message Solution {
    int64 turns = 1;
  }

  Solution solution = 3;
}

service Service {
  rpc inference(stream Request) returns (stream Response);
}
